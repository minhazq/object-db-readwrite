<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Object-db-readwrite by minhazq</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Object-db-readwrite</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/minhazq/object-db-readwrite" class="btn">View on GitHub</a>
      <a href="https://github.com/minhazq/object-db-readwrite/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/minhazq/object-db-readwrite/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><b><u><i>Read & Write Java Object to Database (MySQL) Using JDBC</i></u></b></h3>
<i><font color="#400000"> <p>Better if you use Hibernet in this kind of situation. But for now we will learn JDBC.</p></font></i>
 <p>In order to <u>write Java-Object</u> to database , you need to have a column which type is <b><font color="#121EFF">longblob</font></b> And you need the following Objects :

<ul>
    <li><b>Connection</b> Object from <font color="#4262FF">java.sql</font> package</li>
    <li><b>ByteArrayOutputStream</b> object from <font color="#4262FF">java.io</font> package</li>
    <li><b>ObjectOutputStream</b> object from <font color="#4262FF">java.io</font> package</li>
    <li><b>PreparedStatement</b> from <font color="#4262FF">java.sq</font>l package</li>
</ul> 
</p>
<p>If you want to <u>read java-Object</u> from database then besides Connection and PreparedStatement Object you need <b>ByteArrayInputStream</b> & <b>ObjectInputStream</b> from <font color="#4262FF">java.io</font> package</p>
<p><font color="#000080"><b><u>First Step:</u></b></font> Create a Table named "javaObject" which has only two columns. 1st Column is "id" Auto Increment,  2nd columns is "javaObject" and type will be <b><u>longblob</u></b></p>
<p>===========================================================</p>
<p><font color="#000080">create table</font> javaobject (id <font color="#000080">int</font>(10) <font color="#000080">auto_increment</font> , javaobject <font color="#000080">longblob</font> , <font color="#000080">primary key</font> (id))</p>
<p>===========================================================</p>
<p>After creating the above table , create a maven java project and add the following dependency in your POM file.</p> 
<p><img src="images/dependency.JPG" width="410" height="148" alt="" title="" /></p>
<p>Thats all you need to get started.</p>
<p>Lets take a look at the Client class where we will write an Object of MyClass to MySql Database. Before that Ofcourse you need to create a class named MyClass which extends from <b><u>Serializable</u></b> and it will have 2 properties.
They are "id" as Long Type and "name" as String Type and generate Setter and Getter Methods. Now in your main class where you will write the object to database is as follows:</p>
<p>
<img src="images/Client-Class.JPG" width="870" height="739" alt="" title="" />
</p>
<p>In the above example we can see that After Creating Connection and MyClass object we created ByteArrayOutputStream and ObjectOutputStream. Using ObjectOutPutStream we write the object to ByteArrayOutputStream.
So all the information of the object exists in ByteArrayOutputStream object. Now Convert the ByteArrayOutputStream object to byte array. We created the PreparedStatement using
Connection Object and send the sql query. </p>
<p>sql = "inser into tableName (columntName) values(?)"</p>
<p>PreparedStatement has a method called setObject where i can send the byte array data and call execute.</p>
<p>Thats all. If you check your database you will be able to see that one entry has been entered.</p>
<p>For reading data take a look at my Client2 class.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/minhazq/object-db-readwrite">Object-db-readwrite</a> is maintained by <a href="https://github.com/minhazq">minhazq</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
